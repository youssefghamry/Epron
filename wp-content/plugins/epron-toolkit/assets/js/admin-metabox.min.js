jQuery(document).ready(function(b){b("body").on("click",".rt-tab-nav",function(){var c=b(this).parents(".rt-tabs-wrap"),d=b(this).attr("data-id");c.find(".rt-tab-nav").removeClass("checked");b(this).addClass("checked");c.find(".rt-tab").removeClass("checked");c.find(".rt-tab[data-id="+d+"]").addClass("checked")});b(".box-row[data-depedency-el]").each(function(f){var j=b(this),h=j.attr("data-depedency-el"),d=j.attr("data-depedency-val"),c,g,e;if(b("#"+h).length){d=d.split(",");g=b("#"+h).parents(".box-row");if(g.hasClass("dependent-hidden")){j.addClass("dependent-hidden")}else{e=b("#"+h);c=e.val();if(b.inArray(c,d)!==-1){j.removeClass("dependent-hidden")}else{j.addClass("dependent-hidden")}}}});function a(d,c){b('.box-row[data-depedency-el="'+d+'"]').each(function(){var j=b(this),l=j.attr("data-id"),i=b('.box-row[data-id="'+l+'"]'),k=null,h,e,g;if(i.length){g=i.attr("data-id");k=b('.box-row[data-depedency-el="'+g+'"]')}if(j.length){var f=j.attr("data-depedency-val");f=f.split(",");if(b.inArray(c,f)!==-1){if(k.length){e=i.find("#"+l).val();h=k.attr("data-depedency-val");h=h.split(",");if(b.inArray(e,h)!==-1){k.removeClass("dependent-hidden")}}j.removeClass("dependent-hidden")}else{if(k.length){k.addClass("dependent-hidden")}j.addClass("dependent-hidden")}}})}b(".select-image img").on("click",function(d){var e=b(this).parents(".box-row"),c=b("ul",e),g=b("select",e).attr("id"),f=b(this).attr("data-image_id");b("img",c).removeClass("selected-image");b(this).addClass("selected-image");b('select option[value="'+f+'"]',e).attr("selected",true);a(g,f);d.preventDefault()});b(".box-select").each(function(){var d=b(this),c=d.parents(".box-row");d.change(function(){var e=b(this).val();if(e==undefined){return}a(d.attr("id"),e)})});b(".multiselect").each(function(){var c=b(this).parents(".box-row");if(b(this).hasClass("save-empty")){b(this).change(function(){var d=b(this).attr("name");if((b(this).val()||[])==""){c.append('<input type="hidden" name="'+d+'" value="" class="multiselect-empty">')}else{c.find(".multiselect-empty").remove()}})}});b(".switch-wrap").each(function(){var h=b(this),g=h.parents(".box-row"),e=h.find("select"),f=h.find(".switch-on-off"),d=f.find(".onstate").attr("data-on"),c=f.find(".offstate").attr("data-off");f.on("click",function(k){var m=b(this),i="",j;if(m.hasClass("on")){i=e.find("option").eq(1).val();e.val(i);m.removeClass("on").addClass("off")}else{i=e.find("option").eq(0).val();e.val(i);m.removeClass("off").addClass("on")}var l=e.val();if(l==undefined){return}a(e.attr("id"),l);k.preventDefault()})});(function(){var c,e,d;b(document).on("click",".upload-image",function(f){f.preventDefault();d=b(this).parent().parent();e=d.find("input");if(c){c.open();return}c=wp.media.frames.file_frame=wp.media({multiple:false,library:{type:"image"}});c.on("select",function(){attachment=c.state().get("selection").first().toJSON();var g="";if(attachment.sizes==undefined){g=attachment.url}else{if(attachment.sizes.thumbnail==undefined){g=attachment.sizes.full.url}else{g=attachment.sizes.thumbnail.url}}d.find(".image-holder img").remove();d.find(".image-holder").append('<img src="'+g+'" alt="Image Preview">');d.find(".image-holder").addClass("is_image");e.val(attachment.id)});c.on("open",function(){var g=c.state().get("selection"),h=e.val();if(h!==""){attachment=wp.media.attachment(h);attachment.fetch();g.add(attachment?[attachment]:[])}});c.open()});b(document).on("click",".remove-image",function(g){g.preventDefault();var f=b(this).parent().parent();f.find(".image-holder img").remove();f.find("input").val("");f.find(".image-holder").removeClass("is_image")});b(document).on("change",".image-source-select",function(h){var g=b(this).parent(),f=b(this).find("option:selected").val();if(f=="media_libary"){g.find(".image-holder").removeClass("hidden");g.find("input.image-input").attr("data-external_link",g.find("input.image-input").val());g.find("input.image-input").val(g.find("input.image-input").attr("data-media_id"));g.find("input.image-input").attr("type","hidden")}else{if(f=="external_link"){g.find("input.image-input").attr("data-media_id",g.find("input.image-input").val());g.find("input.image-input").val(g.find("input.image-input").attr("data-external_link"));g.find(".image-holder").addClass("hidden");g.find("input.image-input").attr("type","text")}}})})();b(".datepicker-input").datepicker({dateFormat:"yy-mm-dd",beforeShow:function(c,d){d.dpDiv.addClass("_datepicker")}});b(".colorpicker-input").each(function(c){var d="color_picker_"+c;b(this).attr("id",d);b("#"+d).wpColorPicker()});b(".easy-link").on("click",function(c){b(this).easyLink();c.preventDefault()});if(b(".generate-iframe").length){b(".generate-iframe").IframeGenerator()}if(b(".generate-bg").length){b(".generate-bg").BgGenerator()}});